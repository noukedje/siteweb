<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Gestion des catégories</title>
	<link rel="icon" type="image/x-icon" href="../static/images/favicon.ico" th:href="@{/images/favicon.ico}">
    <link href="../static/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
	<link href="../static/css/mystyle.css" th:href="@{/css/mystyle.css}" rel="stylesheet">
    <link href="../static/css/cheatsheet.css" th:href="@{/css/cheatsheet.css}" rel="stylesheet">
    <link href="../static/css/fontawesome/css/all.css" th:href="@{/css/fontawesome/css/all.css}" rel="stylesheet">
     
  </head> 
<body class="mainback">

 <th:block th:include="/_header"></th:block>
 <div class ="container justify-content-center">
   <div class="bg-primary mt-4 titre2 mb-4"> 
    <h1 align="center">Liste des catégories</h1>
   </div>
   <hr/>
   <div class="row mt-4">
      <div class="col">
        <a th:href="@{/categories/new}" class="btn btn-success">Nouvelle catégorie</a>
      </div>
   </div>
   <div class="row">
      <tr>
        <div align="center">
        <div class="panel-body" align="center">
        <table class="table table-hover" style="border:2px solid black;">
          <thead class="thead-dark">
          <tr>
           <th>ID </th> 
           <th>Nom </th> 
           <th>Description</th>
           <th>Photo</th>
           <th sec:authorize="hasAuthority('ADMIN')">Action</th>  
          </tr>
          <tbody>
             <tr th:each="categorie : ${listecategories}">
             <td th:text="${categorie.idcategorie}">ID categorie</td>
	         <td th:text="${categorie.nomcategorie}">Nom categorie</td>
             <td th:text="${categorie.description}">Description</td>
             <td><img th:src="@{'/photocat/'+${categorie.idcategorie}}" alt="Photo categorie" height="50px" width="50px"/></td> <!--@{'/images/produits/'+${categorie.nomphoto}}-->
             <td sec:authorize="hasAuthority('ADMIN')"><a th:href="@{'/categories/edit/'+${categorie.idcategorie}}"  class="btn btn-primary">&nbsp;&nbsp;&nbsp;&nbsp;Editer&nbsp;&nbsp;&nbsp;</a>
             <a th:href="@{'/categories/del/'+${categorie.idcategorie}}" class="btn btn-danger">Supprimer</a></td>
             </tr>  <!--   th:attr="onclick=|editercategorie('${categorie.idcategorie}','${categorie.nomcategorie}','${categorie.description}','${categorie.nomphoto}')|"-->
          </tbody>  
        </table>      
        </div>
       </div>
   </div> 
 </div>
   <th:block th:include="/_footer"></th:block>
       
  </body>
</html>